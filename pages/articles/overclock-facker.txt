====== скоростной лохотрон ======
<sub>{{overclock-facker.odt|Original file}}</sub>

крис касперски ака мыщъх no-email

**быстрее! еще быстрее!! совсем быстрее!!! стоп — дым идет. да… трудно разогнать асфальтовый каток. а еще вспоминается анекдот как русские летчики изменяли геометрию крыла, пытаясь отцепиться от боинга. разгон окружен мифами, тайнами, сплетнями и… спекуляциями. вот только некоторые из них**

{{INLINETOC}}
===== введение =====

Римляне хотели двух вещей: хлеба и зрелищ. Ну и что с тех времен изменилось? Только скорость возросла. Торчать на тормозах никому не в кайф, это же не mp3 скачать, ни в needofspeed погонять. Короче, как дальше жить? Можно, конечно, воткнуть кристалл помощнее, протянуть DSL… только ведь все это денег стоит, а хочется чтоб на халяву. Сеть пестрит ссылками на "ускоритель интернета", "оптимизатор XP" и прочую лабуду. Чаще всего ничего хрена она не ускоряет, зато показывает баннеры, требует регистрации, ворует пароли или просто завлекает посетителей на свою страницу, где живут баннеры и эксплоиты.

Как распознать обман? Попробуем разобраться, что действительно можно разогнать, а что нет.

{{overclock-facker_Image_0.jpg}}

**Рисунок 1 все, что осталось от зрелищ**

===== интернет → модем =====

Объемы перекачиваемых данных непрерывно растут и ширины каналов практически никогда не хватает. Начнем с модема. До сих пор можно встретить людей, приторговывающих различными "модемными фильтрами", каким-то невероятным способом адоптирующих тупой американский модем к советской АТС. На самом деле, все необходимые фильтры в модем уже встроены и никаким внешним фильтром качество телефонной линии не поднять (самый радикальный способ: поставить телефонистам стопарик, пускай подтянут все болты и дохнут алкогольными парами на контакты). Разработчики модемов совсем не дураки и специфика российского рынка им хорошо известна. Фирма ZyXEL даже имеет отдельное подразделение, занимающееся адоптацией их оборудования к нашей голимой жизни. Впрочем, никакое правило не обходится без исключение и это в том числе. Если качество телефонной линии постоянно "плавает", модем тратит кучку времени на пересогласование параметров соединения, сваливаясь в непрерывный ретрейн. В таких случаях, следует внимательно перечитать документацию по модему и посмотреть какими AT-командами мы можем настроить его под конкретную телефонную линию. Зачастую, после этого скорость возрастает в несколько раз. Есть и другой путь — ухудшить качество телефонной линии так, чтобы оно перманентно было уродским и исчезли "всполохи" кратковременных улучшений. Именно так "модемные фильтры" и работают. Да, в некоторых случаях они дают определенно ускорение, но ручная настройка AT-командами дает еще больше и — главное — за это не приходится платить.

{{overclock-facker_Image_1.png}}

**Рисунок 2 типичная схема модемного фильтра**

===== интернет → провайдер =====

От модема мы перейдем к самому Интернету. У хороших провайдеров скорость скачивания вплотную подходит к пропускной способности модема, и "разгонять" ее уже некуда. Модем оживленно перемигивается всеми огоньками, а лампочка RXD даже не мигает, а постоянно горит. Красота! Вот только доступна эта красота далеко не всем… Если лампочка RXD мигает как обкуренный филин в первую брачную ночь, необходимо выяснить, кто виноват: модем, провайдер или удаленный сайт? С модемом все просто — попробуйте скачать что-то с сайта провайдера или запустите программу типа "Модемный Доктор", показывающую реальную скорость соединения (показания Windows, отображаемое в свойствах соединения, показывают только скорость протокола, которая к текущей, мгновенной скорости, имеет весьма отдаленное отношение) . Если все ок, значит, это не модем.

Существует множество утилит, от MTUSpeed до всяких навороченных твикеров, обещающих увеличение скорости соединения в несколько раз. Дело в том, что стандартные TPC/IP настройки ориентированы на "правильных" провайдеров и не учитывают конкретную ситуацию. Чисто теоретически их можно настроить "под себя", но плохой интернет от этого не станет хорошим, а на хорошем интернете выигрыш вообще не будет заметен. Подробнее об настройке TCP/IP можно прочитать в моем "укрощении интернета", электронная копия которой лежит на ftp://nezumi.org.ru, здесь же достаточно будет отметить, что в подавляющем большинстве случаев такие твикеры не дают никакого ускорения, зато с их помощью легко сбить настойки TCP/IP и не заметить этого, поскольку многие из них проявляются только при стечении довольно специфичных обстоятельств, имитацией который твикер не занимается.

{{overclock-facker_Image_2.png}}

**Рисунок 3 MTUSpeed – проверенный временем ускоритель интернета**

{{overclock-facker_Image_3.png}}

**Рисунок 4 еще один ускоритель интернета**

===== интернет → сайт =====

Не всегда причиной плохой связи становится наш провайдер или модем. Быть может, удаленный сервер перегружен, принудительно ограничивает скорость отдачи (что особенно хорошо заметно на DSL) или данные "зажимают" промежуточные марштузаторы. Менеджеры закачек пытаются решить проблему через proxy-сервера и одновременную установку нескольких TCP-соединений. Допустим, владелец удаленного сервера установил лимит в 10 Кб/сек на "рыло", а у нас 10 мегабитный канал, тогда открыв сто потоков, мы увеличим скорость закачки без малого в сто раз. Невероятно, но факт! Правда, здесь есть одно "но". Владельцы серверов устанавливают ограничения на отдачу совсем не из вредности, а исходя из своих возможностей. Пользователи, пользующиеся ускорителями, серьезно напрягают сервер, и если они набегут всей толпой, реальной скорости не будет ни у кого. Вот потому многие публичные сервера ограничивают максимальное количество TCP-соединений с данными клиентом (идентифицируя его, например, по "кукам") или узлом (идентифицируя его по IP), а приватные ftp-сервера вполне могут за такое дело влепить бан, заблокировав клиента на некоторое время (чтобы не "долбил") или даже на всю оставшуюся жизнь. Проблема в том, что далеко не каждый пользователь такого Менеджера-ускорителя догадывается, что на самом деле он сука и ведет себя нехорошо. Некоторые ускорители идут еще дальше, используя анонимные proxy-адреса сокрытия своих реальных адресов. Это вынуждает администраторов блокировать целые подсети, чтобы отсечь тех сук, что сидят и долбят. Если вы пользуетесь таким ускорителем, пожалуйста, никогда не устанавливайте больше двух-трех соединений с одним серверов стразу!

{{overclock-facker_Image_4.png}}

**Рисунок 5 менеджер закачки FlashGet по умолчанию открывающий сразу десять потоков**

{{overclock-facker_Image_5.jpg}}

**Рисунок 6 владельцы приватных ftp страшно не любят тех кто долбит**

===== интернет → акселератор =====

Кто из нас не встречал рекламы "Интернет - ускорителей"? Даже Google не удержался и вылез со своим "Webaccelebator'ом", правда быстро сдулся и улез обратно, сославшись на нехватку мощностей (по другой версии, программа была отправлена на доработку, поскольку в первой версии присутствовал кованый баг, позволяющий пользователям читать чужую информацию, в том числе и логины/пароли). Как эта штука работает? В том, что она работает сомневаться не приходится, раз уж сам Google взялся за это дело… И почему она не была заложена в TCP/IP изначально?

Все очень просто. Никаких "ускорителей" на самом деле не существует. Это всего лишь маркетинговый трюк, предлагающий нам классический proxy сервер под соусом нового имени. Способность proxy-серверов увеличивать скорость соединения всем хорошо известна и ничего удивительно здесь нет. Правда, ускоритель может использовать некоторые дополнительные фичи, например, компрессию изображений. Научная мысль идет вперед и jpg уже не является лидером сжатия. Появилось множество новых алгоритмов, сжимающих сжатый jpg в десять (!) и более раз, оставляя изображение субъективно приятным для восприятия. Да, мы теряем детализацию, но нет этих ужасных "квадратиков", облепленных грязью. Акселератор можно использовать не только на модемном соединении, но и на скоростных каналах, поскольку он экономит трафик, а трафик — это деньги (безлимтные тарифы мы в расчет не берем). Тоже самое относится и к сотовым телефонам с GPRS.

Так в чем же подвох? А в том, что ускоритель это прежде всего сервер и только потом программа, которую надо установить для работы с ним. Бесплатных ускорителей много (см. врезку), но хороших среди них нет и за реальное ускорение приходится платить.

{{overclock-facker_Image_6.jpg}}

**Рисунок 7 ускоритель заряженных частиц, Интернет ускорители не такие большие, но се равно довольно внушительные и дорогостоящие сооружения**

===== >>> бесплатные ускорители =====

  * proxy.cs.gunma-u.ac.jp:8080
  * proxy.hoge.ac.jp:8080
  * proxy.res.anken.go.jp:8080
  * bi.ikenobo-c.ac.jp:80
  * proxy.infobears.ne.jp:80
  * http://www.propel.com
===== windows XP → память =====

Целый класс утилит, написанных неизвестно кем, предлагает довольно революционный алгоритм оптимизации памяти. Известно, что при закрытии приложения, Windows освобождает память не сразу, а… откладывает это на потом (см. Диспетчер Задач, графа "Физическая Память: Доступно). Вот и давайте "доработаем" Windows, отслеживания завершение приложений и освобождая память самостоятельно. А еще можно "дефрагментировать" память. Чем она хуже диска?! Короче, креатив так и прет. Оптимизаторов куча, только выбирай!

В то же время, ни сама Microsoft, ни могучие гуру типа Руссиновича, ничего подобного не предлагают. Они-то знают, что "паять" — понятие относительное, а "свободная память" — еще и диалектическое. Когда физической памяти не хватает, Windows просматривает каталог страниц, пытаясь найти немодифицированные страницы, к которым дольше всего не было обращения. Их освобождение происходит практически мгновенно и память предоставляется затребовавшему ее приложению. С модифицированными страницами все значительно сложнее и перед освобождением их приходится вытеснять на диск — в файл подкачки. Естественно, это занимает время. И еще больше времени требуется на повторную загрузку с диска, если вытесненные страницы будут затребованы. Завершение приложения еще не признак того, что принадлежащая ему память теперь не нужна. Ведь через некоторое время закрытое приложение может быть запущено вновь. Например, открываем мы документ в Word'е, видим, что это не то, закрываем его на хрен, открываем другой и… То же самое справедливо для FireFox, InternetExpolrer… Первый запуск проходит медленно и долго дрыгаем диском, но зато все последующие идут влет!

{{overclock-facker_Image_7.png}}

**Рисунок 8 оптимизатор памяти Super-Ram**

Стратегия выделения/освобождения памяти — это серьезный вопрос, над которым Microsoft плотно работает, стремясь отыскать "золотую середину", удовлетворяющую всех. Иногда она совпадает с "характером" данного приложения, иногда нет. В принципе, каждая программа может управлять памятью и самостоятельно (Windows представляет достаточно рычагов управления), только программистам это в лом. Возможно создать утилиту, ускоряющую загрузку определенного класса приложений, и "заточенную" под конкретный набор программ, только таких утилит пока нет. Все заявления об "оптимизации памяти" — это гон.

{{overclock-facker_Image_8.png}}

**Рисунок 9 оптимизаторпамяти RAM Idle Professional**

===== железо → освобождаясь от оков =====

Древние говорили "цепи даруют свободу" и они не ошиблись. Заблокированные возможности даруют потребитель возможность получить Hi-End продукт по цене Low-End. Ходит много слухов и спекуляций вокруг утилит и материнских плат, позволяющих использовать HyperThreading на тех моделях, где официально его нет, увеличивающих емкость жесткого диска вдове, активирующих недокументированные (но физически существующие) протоколы обмена и режимы работы и т.д.

{{overclock-facker_Image_9.jpg}}

**Рисунок 10 в цепях**

Можно ли этому верить? Зачем производителям что-то блокировать? Существует множество различных причин. Вот, например, не успели до конца реализовать HyperThreading, а сроки сдачи проекта уже поджимают. Изымать его из ядра — выйдет только дороже (это же все перепроектировать надо!). Легче просто заблокировать. Обычно такая блокировка делается в последний момент, впопыхах, и ее легко обойти. Разблокированная фича может вполне работать, однако, никаких гарантий, что ничего не проглючит у нас нет. Возьмем другой пример — жесткие диски. Допустим, при тестировании на одной из поверхностей выявился брачок и компания отключила головку, чтобы эта поверхность не использовалась. Если у диска всего две головки (как часто и бывает), включение головки увеличивает полезную емкость вдове. Однако, при этом возникает риск угробить все данные.

{{overclock-facker_Image_10.png}}

**Рисунок 11 без цепей**

Впрочем, оборудование может и не иметь никаких проблем. Скажем, на складе залежался Hi-End товар и компания решила пустить струю в Low-End сегмент. Чтобы не вызывать конкуренции внутри себя, инженерам было приказано слегка кастрировать железяки, чтобы оставить потребителю стимул для покупки Hi-End.

{{overclock-facker_Image_11.jpg}}

**Рисунок 12 когда замок открыт — какая от него польза?**

Разблокирование вовсе не миф, однако, реальной пользы от него обычно очень немного.

===== видео → галлюцинации =====

Хорошие игры требуют хорошей видео-карты, а хорошие видео-карты стоят хороших денег, на которые хорошо купить хороший косяк и хорошо приторчать. Ага! Лежим мы значит в центре радуги, постигая суть вещей и необъятность мира (с) Гайдук. Мыщъхлим значит. И вот накрывает нас мысля, что из дешевые видюхи они галимые только когда тормозные, а вот если их разогнать, они бегут как гепард под хвост которому залетел шмель.

{{overclock-facker_Image_12.jpg}}

**Рисунок 13 к старту готова**

Разгон видюх занимает второе место после драпа по популярности. Под это дело разработана куча рецептов и имеется множество утилит. Повысить тактовую частоту — это самое простое, только кристаллы и так уже работают на пределе, сваливаясь в неожиданные глюки. Гораздо лучше (и правильнее) попытаться найти заблокированные возможности и разблокировать их. Производители видео-карт практикуют этот маркетинговый трюк как ни кто другой. Разрабатывается *одна* модель, а затем ранжируется на варианты "для крутых пацанов", "для нормальных людей" и "для всех остальных". Всем остальным сплавляют всякое дерьмо "на тебе боже, что самим негоже", а вот нормальных парней сажают на правильные видео-карты только слегка кастрированные. Зачастую блокировка выполняется даже не в железе, а идет на уровне драйверов, то есть снимается айсом, ИДОЙ и хиевом. Многие хакеры предлагают модифицированные драйвера. Иногда за пиво, иногда — за деньги. Все это правильно, только вот…

Нас могут легко надурить! Зачастую разгон осуществляется путем отключения некоторых "тяжеловесных" эффектов, снижения детализации и т. д. Очень сложно увидеть разницу в изображениях, сравнивая их по памяти, а двух рядом стоящих компьютеров (непременного атрибута всякого серьезного тестера) у простых пользователей нет. Количество fps само по себе еще ни очень не говорит! А ведь на него обращают внимание прежде всего. Всякий радикальный разгон — повод чтобы поднять хвост и втянуть в себя воздух: не пахнет ли палевом? На "ускорителях" для видео-карт дурят только так!

{{overclock-facker_Image_13.jpg}}

**Рисунок 14 иллюзорность подводного мира — это обман**

===== >>> врезка "нельзя все гнать" =====

Почему вообще возможен разгон? А потому, что производители оборудования оставляют некоторый запас "прочности", занижая реальные показатели. Зачем это им нужно? А затем, что при любом "поточном" производстве в характеристиках элементах возникает некоторый разброс, но протестировать каждый экземпляр просто нереально. Вместе всей партии через "тестовый полигон" проходит только малая часть и на маркировку наносится наихудший результат. То есть, если на процессоре написано 1 ГГц то это означает, что в данной партии нет процессоров, "падающих" уже на 1 ГГц или их долей можно пренебречь. То есть, это наименьшая частота, которая нам гарантирована. А верхняя? Никто не знает. Чем качественнее партия, тем меньше разброс, и тем меньше вероятность разгонять данный процессор.

В общем случае, чем выше тактовая частота, тем меньше вероятность успешного разгона. Допустим, компания выпускает процессоры на 1, 2, 3 и 4 ГГц. Если технологический цикл един, то 1 ГГц процессоры это некачественные 4 ГГц. Перебирая 1 ГГц процессоры один за другим, мы имеем хорошие шансы встретить качественный экземпляр, работающий на 4 ГГц или даже на более высокой тактовой частоте.

Но это в теории. На практике все сложнее. Во-первых, технологический цикл давно отлажен, производство вылизано и параметрический разброс сократился до десятков процентов, а вместе с ним сократился и навар. Во-вторых, в магазинах тоже не дураки сидят — отбирают лучше процессоры и вставляют в продаваемые ПК. Мыщъх давно заметил, что процессоры, приобретенные в родных периферийных пенатах гоняться намного хуже, чем в Питере или Москве. Впрочем, на одной тактовой частоте далеко не выедешь. Основной прирост производительности дает архитектура, объем кэша и т.д.

Да и какой смысл гнать кристалл, когда большинство задач загружают ЦП всего лишь на несколько процентов? И даже если задача загружает ЦП на все 100% вовсе не факт, что переход на более быстрый процессор эту загрузку хоть немного снизит: 100% загрузка – характерный признак грубых программистках ошибок. Взять, например, хотя бы стандартный Pinball, входящий в штатную поставку Windows и пожирающий процессорное время как бармаглот. Причиной его неумеренного аппетита стал мелкий баг — ранние версии Pinball'а обновляли экран так часто, как это у них получалось. Процессоры тогда были медленными и в ходу был девиз, что "fps много не бывает", особенно если весь вывод идет через тормозной GDI. Разработчики предусмотрели отладочную опцию, выводящую количество fps, зарезервировав место для двух разрядов, которых как им казалось, будет предостаточно. Раймонд Чен (один из главных "мозгов" Microsoft) ради интереса посмотрел, сколько же fps выдает его Pentium-4 и с удивлением обнаружил, что экран обновляется более миллиона раз в секунду. Охренеть! Увеличение тактовой частоты увеличивало количество fps, но не снижало нагрузки на процессор, во всяком случае до тех пор, пока Раймон не ограничил его максимальное значение числом 120, после чего загрузка ЦП со 100% упала до 1% и Windows XP вышла уже с исправленной версией Pinball'а. Подробнее об этом можно прочитать на __blogs.msdn.com/oldnewthing/archive/2005/12/01/498882.aspx__ (к слову сказать, это лучший блог из всех, которые мыщъх встречал когда бы то ни было).

{{overclock-facker_Image_14.jpg}}

**Рисунок 15 серьезная техника, а Pinball на ней все равно тормозит**

Так же ведут себя и большинство остальных задач. Проблема сидит не в процессоре, а в программном коде! Долгое время народ упорно придерживался мнения, что существует всемирный заговор между Microsoft и Intel. Microsoft специально тормозит операционную систему, вставляя "циклы задержки", что вынуждает нас приобретать все более быстрые процессоры. На самом деле никакого заговора нет и до появления XP и NET (когда внутри компании всем заправляла команда Реймонда Чена), Microsoft оставалась лидером оптимизации. Сравните GNOME (оболочка для UNIX) с "Окошками", InternetExplorer с Mozilla, а OutlookExpress с Thunderbird. Если Microsoft "козлина форевер", то почему же у остальных дела обстоят еще хуже? Только не надо кричать о каких-то там недокументированных особенностях, которые использует тот же InternetExplorer или о том, что это часть системы, которая постоянно болтается в памяти, в то время, как Mozilla вынуждена грузиться самостоятельно… Код Mozill'ы (и производных от нее продуктов) просто ужасен. Никакой оптимизацией там и не пахнет. Куча настроек, разбросанных по всем файлам, огромный экзек на много мегабайт. Атеперьвозьмем Internet Explorer. Все настройки в одном месте, крохотный исполняемый файл и библиотеки, загружаемые уже после того, как главное окно бразуера стало доступным.

Возникает стандартная ситуация: криво спроектированная программа будет тормозить даже на мощной машине, а нормальной — и минимальной конфигурации вполне хватает. Какой из этого выход? Использовать правильные программы!

{{overclock-facker_Image_15.jpg}}

**Рисунок 16 дави на газ — все будет джаз, сегодня едешь ты в последний раз!**

===== заключение =====

На свете есть только две достойные вещи. Трава и разгон. Разгон круче, базара нет. А травы мы покурим еще (с), но это будет потом, иначе мы так до конца сезона ничего не разгоним.


