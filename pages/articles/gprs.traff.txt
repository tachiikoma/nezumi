====== дешевый GPGS или честный обман оператора ======
<sub>{{GPRS.traff.odt|Original file}}</sub>

крис касперски ака мыщъх, noemail

**мобильный интернет все еще остается дорогой игрушкой, доступной только избранным. но не нужно быть хакером, чтобы удешевить трафик, а в некоторых случаях даже сделать его совсем бесплатным! и все это на совершенно легальных основаниях! не потребуется даже умения держать дизассемблер в руках! достаточно постой инженерной смекалки!**

{{INLINETOC}}
===== введение =====

Несколько лет назад я стал счастливым обладателем сотового телефона с поддержкой GPRS (тогда они только-только начали появляться в наших краях). Штука удобная до чрезвычайности. Но расценки у моего оператора просто грабительские ($600 за каждый гигабайт входящего или исходящего трафика). Я буквально не успевал вводить новые карточки, которые пожирал ненасытный телефон. Стало ясно: дальше так жить нельзя и чтобы не остаться без с штанов с одиноко торчащим хвостом нужно срочно что-то предпринять. Но что?! Атаковать сервер оператора, пытаясь приникнуть в биллиновую базу данных? За это могут и хвост оторвать, да и не стоит оно того. Это все равно, что разбивать витрину ради пачки сигарет. Взлом должен быть предельно честным и долговременным. Таким, чтобы его не прикрыли через несколько дней. Не прошло и недели, как решение было найдено.

===== работа через proxy-сервер =====

Сетевые протоколы уже не первый десяток лет поддерживают возможность "прозрачного" сжатия информации "на лету", однако, оплата взимается за несжатый трафик, да и степень сжатия относительно невелика, поскольку упаковщикам приходится обрабатывать крохотные порции информации, разбитые на пакеты, на которых особо не развернешься, и ни в коем случае не задерживать управление свыше нескольких миллисекунд, чтобы не снижать пропускную способность в которой оператор заинтересован превыше всего.

Мы же будем сжимать трафик rar'ом или zip'ом, степень сжатия которых просто шикарна. Почта и web-странички жмутся где-то в 3-5 раз, снижая стоимость одного гигабайта до ~$150, а этим уже можно жить!

Некоторые HTTP-proxy поддерживают такую опцию как "HTTPcompression" (сжатие HTTP-содержимого), что радикально ускоряет производительность и удешевляет WEB-серфинг. Еще нам потребуется WEB-браузер, "переваривающий" сжатые WEB-страничеки (FireFox и Opera их переваривают по умолчанию, а вот IE6 – требуют залезть в опции и включить поддержку HTTP/1.1). Пять моих любимых серверов приведены во врезке. Просто пропишите адрес сервера в настойках браузера и все! К сожалению, бесплатность этих серверов весьма условна и доступ к ним может прекратиться в любой момент, да и скорость работы оставляет желать лучшего.

{{gprs.traff_Image_0.jpg?553}}

**Рисунок 1 работа через HTTPProxy сервер**

===== >>> врезка бесплатные proxy-сервера,\\ поддерживающие сжатие =====

  * proxy.cs.gunma-u.ac.jp:8080
  * proxy.hoge.ac.jp:8080
  * proxy.res.anken.go.jp:8080
  * bi.ikenobo-c.ac.jp:80
  * proxy.infobears.ne.jp:80
===== наперегонки с убежавшей электричкой\\ или GoogleWEBAccelerator =====

Известный поисковик Google недавно обзавелся новым сервисом — WEBAccelerator'ом или по-русски WEB-ускорителем, один из трех китов которого — сжатие HTTP-содержимого перед отправкой клиенту. Два других кита — кэширование страничек и упреждающая загрузка (т. е. передача данных до посылки запроса). Клиентская часть акселератора выполнена в виде активной панели для InternetExplorer'а 6.х и FireFox 1.0+.

GoogleWEB-Accelerator не только увеличивает скорость открытия страничек (а для тормозного GPRS'а это актуально), но и в три-пять раз удешевляет среднюю стоимость одного открытия (загрузка картинок, разумеется, должна быть отключена, иначе никакого выигрыша не получится). К сожалению, этот сервис не проработал и недели и теперь на главной странице проекта webaccelerator.google.com нас ждет разочаровывающий текст: "Thank you for your interest in Google Web Accelerator. We have currently reached our maximum capacity of users and are actively working to increase the number of users we can support" ("//.…////мы////уже////набрали////кворум////и////регистрация////новых////пользователей////временно////прекращена//").

Как говориться, кто не успел, тот опоздал…

{{gprs.traff_Image_1.png?233}}

**Рисунок 2 панель Google Web Accelerator'a**

===== другие WEB-ускорители =====

Помимо Google существуют и другие WEB-ускорители, которые легко найти в Сети, если, конечно, приказать поисковику отсеивать страницы, содержащие слово "Google" в своем теле. Все словно с ума сошли — только об одном GoogleAccelerator'е и говорят! Какой смысл пинать дохлую крысу? Так ведь нет! Каждый считает своим долгом потеребить ее, почесать… Но мы отвлеклись. Итак, реально работающие WEB-ускорители все-таки есть. Как факт! Конечно, и всякого дерьма, прикрывающегося их именем тоже хватает! Часто под видом WEB-ускорителя нам предлагают банального трояна, устанавливающего систему удаленного администрирования или качающего рекламу за наш счет. Поэтому, прежде чем запускать полученный ускоритель, необходимо проверить его на вшивость, например, пропустив через антивирус, а в идеале — дизассемблер.

Ускорители бывают как бесплатными, так и нет. Бесплатные лучше сразу откинуть — практически все они перегружены и работают кое-как… Но ведь не платить же за ускоритель?! Конечно нет. Многие коммерческие ускорители предлагают испытательный период, легко продляемый простой перерегистрацией. Даже если нас раскусят и пошлют в пешее путешествие с эротическим уклоном, не беда! WEB-ускорителей пруд пруди. Не один так другой. Какая нам в сущности разница?

{{gprs.traff_Image_2.png?399}}

**Рисунок 3 работа через WEB-ускоритель**

===== >>> WEB-ускорители =====

  * http://www.propel.com
    * шикарный WEB-ускоритель, сжимающий не только текстовое содержимое, но и графические изображения, причем практически без потери качества! Поддерживает все версии Windows и браузеров (IE, Netscape, Opera, Mozilla и Firefox), дает 7 дней пробного доступа.
{{gprs.traff_Image_3.png?553}}

**Рисунок 4 WEB-ускоритель PROPEL демонстрирует новый алгоритм сжатия изображений**

  * http://www.khelekore.org/rabbit/
    * лучший бесплатный WEB-ускоритель, сжимающий как текстовики, так и изображения. Поддерживает все версии Windows и браузеров (IE, Netscape, Opera, Mozilla и Firefox).
{{gprs.traff_Image_4.png?115}}

**Рисунок 5 логотип WEB-ускорителя Rabbit**

===== роем тоннель через telnet =====

При всех достоинствах WEB-ускорителей им присущи многие серьезные ограничения. Начнем с того, что качество сжатия все же уступает последним версиям RAR'а и уступает довольно сильно. При перегрузке сервера-ускорителя, возникают многочисленные ошибки передачи на TCP/IP уровне и данные приходится передавать снова и снова. Этот процесс протекает скрытно от пользователя, но увеличивает время загрузки и опустошает его денежный счет. А как на счет разрывов соединений, которые на GPRS'е случаются регулярно? Мелкие файлы автоматически кэшируются сервером-ускорителем и могут быть докачены без потерь. Но, начиная с некоторого размера, файлы отдаются "как есть" и если удаленный сервер работает без докачки, WEB-ускорителю остается только развести проводами. А почта? А осел? А куча других приложений?

Настоящие хакеры регистрируют UNIX-аккаунт на быстром канале и подрубаются к нему удаленным доступом через GPRS по telnet или SSH протоколу. Теперь данные из Интернета скачиваются не напрямую, а идут через telnet/SSH сервер. Со своего мобильного компьютера мы отдаем команду: скачать такой-то файл или даже целый сайт. Файл послушно скачивается, оседая на жестком диске промежуточного сервера. Если в процессе передачи соединение разорвется и все придется начинать сначала, за это никто не будет платить! Затем мы даем команду: упаковать файл архиватором RAR (ну или на худой конец gzip) и отправить к нам по GPRS. При желании даже можно пережать все рисунки, уменьшив их объем в несколько раз (пусть и с потерей качества). Трафик дешевеет прямо на глазах!

Правда, хороший хостинг с telnet/SSH доступом редко бывает бесплатным, и нам все-таки придется выложить порядка пары десятков баков в год. Но эти расходы стоят того! Мы сэкономим в десятки раз больше! При наличии DSL-подключения, можно установить SSH-сервер на своем домашнем компьютере. Идем на www.openssh.com и выбираем SSH по вкусу. В качестве сервера я рекомендую SSHWindows, занимающий чуть больше двух мегабайт и работающий на всех Windows-платформах. Еще нам потребуется SSH/SFTP клиент, который мы установим на мобильный компьютер с GPRS'ом. Поклонники командной строки могут не дергаться, поскольку в поставку SSHWindows уже входит все необходимое, а вот всем остальным придется поднапрячься. Лучшим графическим клиентом на мой взгляд является Secure iXplorer, чем-то напоминающий Total Commander (в девичестве — Windows Commander). Пользователи FAR'а несомненно оценят плагни WinSCP со встроенным клиентом SFTP, новая версия которого вышла буквально несколько месяцев назад.

{{gprs.traff_Image_5.png?553}}

**Рисунок 6 внешний вид Secure iXplorer**

Управлять настольным компьютером через GPRS это по настоящему круто! И экономно. Вот например: заходим SSH-клиентом на свою тачку, запускаем любимый TheBat, киляем весь спам, и передаем по GPRS каналу только актуальный контент. Если же письмо содержит несколько архивов с вложениями — распаковываем их на настольном компьютере и передаем через GPRS только содержимое архива, после чего решаем какие файлы нам нужны, а какие нет.

===== >>> выноска программное обеспечение для взлома =====

  * SSHWindows
    * бесплатный консольный SSH/SFTP клиент и сервер в одном флаконе, работающий под Windows: http://sshwindows.sourceforge.net;
  * SecureiXplorerGPL
    * бесплатный графический SSH/SFTP клиент с интерфейсом аля TotalCommander, работающий под Windows: http://www.i-tree.org/gpl/ixplorer.htm;
  * WinSCP
    * бесплатный SFTP-плагин для FAR'а: http://winscp.net/eng/index.php;
  * ICMP Shell
    * бесплатный ICMPShell, работающий под UNIX: http://icmpshell.sourceforge.net;


{{gprs.traff_Image_6.png?553}}

**Рисунок 7 внешний вид WinSCP**

===== роем тоннель через ICMP =====

Некоторые сотовые операторы тарифицируют только TCP/UDP трафик, но не обращают внимания на ICMP. А это значит… что мы можем пробить ICMP-тоннель и тогда передача данных будет вообще //**_бесплатной_**//. Причем, никто не сможем наехать и предъявить иск за взлом, поскольку мы вправе использовать все услуги, которые только предоставляет оператор! А вот отключить от сети нас вполне могут, так что лучше не увлекаться и сотни гигабайт не воровать.

Все, что нам потребуется — это установить ICMP-shell. На настольный компьютер — серверную часть, на мобильный — клиентскую (естественно, вместо настольного компьютера с DSL-соединением, можно воспользоваться услугами любого хостера). Таких ICMP-shell'ов очень много. Больше всех мне нравится реализация Петра Киелтука (Peter Kieltyka), распространяемая в исходных текстах. Это обычный командный shell, однако, его легко доработать до HTTP-proxy сервера и тогда по бесплатному мобильному Интернету можно будет бродить под Лисом или IE. Заработает и Осел (в смысле eMule – клиент файлообменной сети eDonkey), правда только с lowID, ну да ничего — при бесплатном Интернете с lowID жить вполне можно (тут правда следует сказать, что совсем бесплатным ослиный интернет не бывает, никакой хостер не позволит за пару десятком баксов тянуть безразмерный трафик и поэтому о выкачивании видеофильмов нахаляву лучше сразу забыть).

Конечно, ICMP-тоннель штука достаточно хрупкая и по качеству связи заметно уступающая обычному TCP/IP соединению. Низкая скорость, частные обрывы и т. д. Все это страшно нервирует и отнимает уйму времени. Тем не менее, все недостатки с лихвой перевешиваются бесплатностью трафика!

===== заключение =====

Всякая техническая проблема имеет простое и элегантное решение, даже если на первый взгляд кажется неразрешимой. Бесплатный мобильный Интернет — это вполне реально. Конкретная схема взлома зависит от особенностей биллинговой системы сотового оператора, поэтому никаких универсальных рекомендаций дать невозможно, да это, собственно, и не нужно. Главное — наметить общий маршрут. Подсказать откуда рыть и в каком направлении копать. Надеюсь, что эту задачу моя статья выполнила сполна.


