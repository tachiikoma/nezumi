====== безопасный wёb-серфинг ======
<sub>{{safe-serfing-.odt|Original file}}</sub>

**крис касперски ака мыщъх, ****no****-****email**

**сетевые обитатели подвергаются опасности на каждом шагу. темные аллеи хакерских серверов таят в себе скрытую угрозы атаки, жертвой которой становится как электронная наличность, так и содержимое жесткое диска. да и следы своего пребывания в "пикантных" заведениях замести никогда не помешает. чтобы выходить в сеть без страха, совсем не нужно знать дзюдо и быть Шварцем, достаточно просто прочитать эту статью.**

{{INLINETOC}}
===== введение =====

Прежде, чем ставить жутко навороченную сигнализацию или врезать выдранный из сейфа замок, следует помнить, что информационная безопасность — это _не_ товар, а услуга. Ни один из продуктов (как коммерческих, так и бесплатных), присутствующих на рынке, не в состоянии надежно защитить компьютер, поскольку, на каждую хитрую идею найдется своя хитрая идея (или, как говорят в народе: на каждую хитрую задницу найдется свой болт с резьбой под восемнадцать).

Обеспечивать безопасность компьютера должен профессионал, а не любитель. Этому невозможно выучиться в один день! Выходит… что эта статья бесполезна и если захотят, нас все равно поимеют? Конечно, поимеют да еще так поимеют, что только треск будет стоять! Но ключевое слово здесь: "если захотят". Опытный хакер без труда натянет "продвинутого" пользователя по самые помидоры, даже не прибегая к вазелину. Но весь фокус в том, что пользователей много, а хакеров — мало. Болтов с резьбой под восемнадцать — еще меньше.

Обезопасить себя от массовых червей, воинствующих хулиганов и "людей в погонах" вполне возможно ("там" далеко не Фон Нейманы сидят). Еще проще спрятать любовную переписку от жены или скрыть свое пристрастие к извращенным формам секса от коллег и системного администратора, даже если он вовсе не лох.

Вот для таких целей и была написана эта статья.

===== факторы угрозы =====

Количество хакерских атак неуклонно растет и значительная их часть приходится на web-браузеры. Из всех факторов риска в первую очередь можно (и нужно!) выделить следующее три "ипостаси":

  * атака на сам браузер с засылкой троянской программы;
  * сбор данных о пользователе (с какой страницы пришел, под каким IP);
  * сохранение компрометирующих данных о посещенных страницах на жестком диске;
Поясним сказанное на конкретных примерах. Практически все браузеры страдают дефектами разработками (или в просторечии — дырами). Через дыры лезут черви, вирусы и другие вандалы. Независимо от текущей политики безопасности в настойках браузера, при посещении страницы _всегда_ существуют угроза подцепить какую-нибудь заразу, проникающую сквозь антивирусы и брандмауэры. Причем, это относится не только к порнографическим сайтам, но и серверам весьма респектабельных компаний. Известен случай, атаки на "гостевую доску" совсем не хилой фирмы AMD, результатом которой стали тысячи зараженных пользователей. И хотя это не правило, а, скорее, экзотическое исключение, "ездить" на дырявом браузере небезопасно.

К тому же "честные" браузеры негласно передают серверу большой объем информации о пользователе: версию самого браузера (вместе с региональными настройками), языковую кодировку, часовой пояс, URL предыдущей посещаемой страницы, IP-адрес… словом, достаточно для того, чтобы "повеситься". Несмотря на то, что де-юре данная информация не считается конфиденциальной, факт ее разглашения существенно напрягает, когда мыщъх выдает себя за девушку Kee-Kee, живущую (по легенде) в Японском городе Фукуока, но использует русскую версию браузера с московской Time-Zone в придачу. Так что легкий флирт очень быстро заканчивается.

Третий фактор — самый серьезный. Компьютер помнит все наши шаги, сохраняя на жестком диске уйму компрометирующей информации, которую не так-то просто удалить. Каждый гражданин имеет право на тайное посещение сайтов нетрадиционной направленности (или например, сетевых служб доведения), гарантированное Конституцией, но далеко не каждому удается реализовать это право на практике. К тому же, пароли и прочая информация, сохраненная в куках, становится легкой добычей троянских программ, сослуживцев или остальных членов семейства.

Обеспечение собственной безопасности требует целого комплекса защитных мер, которые в грубом приближении делятся на серверные и клиентские. К серверным в первую очередь относится выбор надежного анонимного proxy, о чем мы в "хакере" уже не раз и не два писали, так что не будем повторяться, а лучше сразу займемся клиентской проблемой — то есть браузером.

===== выбор браузера =====

Самый популярный сетевой обозреватель всех времен и народов — InternetExplorer (см. рис. 1) – одновременно с этим самый небезопасный и дырявый. Практически каждую неделю в нем обнаруживается свежая порция новых дыр, а сколько ошибок остается не выявленными — остается только гадать!

{{safe-serfing_Image_0.png}}

**Рисунок 1 внешний вид InternetExplorer'а**

Но дыры — это еще туда-сюда. Хуже всего, что IE страдает хроническим недержанием конфиденциальной информации. В первую очередь это относится к кэш'у, истории, activeX компонентам и кукам. По умолчанию, кэш размещается в каталоге: \Documents-n-Settings\user-name\Local Settings\Temporary Internet Files\ и в любой момент может быть удален по команде: сервис  свойства обозревателя  общие  временные файлы интернета  удалить файлы. Но не все так просто! За счет грубых ошибок в системе индексации часть файлов просто не удаляется (в чем легко убедиться, заглянув в указанный каталог после его "очистки"). Кстати говоря, туда же попадают и вложения электронной почты при открытии аттачей в Outlook Express'е и штатными средствами IE они обратно уже _не_ удаляются. Самое интересное, что индексный файл index.dat (находящийся в том же подкаталоге) физически не очищается и продолжает хранить адреса посещенных сайтов. Да, чисто теоретически, они постепенно затираются в процессе посещения новых страниц, но… не все и не всегда.

Ниже приведен фрагмент индексного файла после его очистки штатными средствами IE. Как видно, владелец компьютера посещал сайты весьма извращенного уклона.

{{safe-serfing_Image_1.png}}

**Рисунок 2 содержимое индексного файла кэша IE после "удаления"**

Решение состоит в "ручном" удалении всего содержимого папки "TemporaryInternetFiles", но при этом необходимо выйти из системы и войти под другим пользователем, поскольку в противном случае доступ к части файлов будет заблокирован. Однако, следует помнить, что физического удаления файлов при этом _не_ происходит и утилиты типа GetDataBack могут вернуть их назад, пока они не будет основательно затерты новым содержимым.

История посещения страниц хранится в папке History в том же каталоге, что и TemporaryInternetFiles. Естественно, лучше (и надежнее всего!) очищать ее вручную. Куки лежат в папке Cookies в подкаталоге на один уровень выше. ActiveX элементы (и создаваемые ими файлы) могут храниться в _любом_ месте диска, где только пожелают и никакой возможности уследить за ними у нас нет, ведь фактически это обыкновенные исполняемые программы!

Кстати, стоит отметить, что при определенных обстоятельствах Windows едет крышей и сохраняет все это хозяйство отнюдь не в Local Settings, а в непосредственно в самом каталоге Windows! Так что приходится быть на чеку! А еще лучше… сменить браузер на более надежный!

==== Opera ====

Широко популярный в узких кругах, этот браузер практически не содержит дыр (во всяком случае, документально подтвержденных атак зафиксированного не было) и все данные, поступающие из сети (кэш, куки, история посещений) хранятся в единственном месте — в папке Opera\profile. Там же хранятся skin'ы и другие настройки, поэтому удалять эту папку целиком не рекомендуется. В отличии от IE, она не будет воссоздана автоматически при последующем запуске браузера. А стандартные средства очистки приватного содержимого содержат ряд ошибок, в результате чего качество очистки оставляет желать лучшего.

Тем не менее, блуждая по сети с Оперой, за хакерские атаки можно не волноваться. А содержимое профиля (вместе с самой Оперой) очень легко перенести на FLASH-брелок. Тогда на жестком диске никаких следов нашего пребывания уже не остается.

К тому же, Опера поддерживает развитую и хорошо продуманную систему клавиатурной навигации, обеспечивающую _намного_ более быстрый серфинг, чем IE с его мышами (даже если эти мыши были специально спроектированы под IE). Другое немаловажное достоинство Оперы — ее бесплатность. Новые версии IE уже не являются частью операционной системы как раньше и "раздаются" только легальным пользователям Windows, а в будущем за них планируется взимать дополнительную плату.

{{safe-serfing_Image_2.png}}

**Рисунок 3 внешний вид браузера Opera**

==== FireFox ====

"Горящий Лис", стихийно возникший на обломках Netscape, довольно популярный, но, увы, дырявый и категорически небезопасный браузер, причем, с каждым днем дыр в нем обнаруживается все больше и больше. И хотя массовых атак на Лисов до сих пор не наблюдалось (в силу того, что подавляющее большинство все-таки сидит под IE, а Лиса ставят себе в основном достаточно продвинутые пользователи, справиться с которыми на порядок сложнее), угроза подцепить троянскую лошадь при посещении wёb-странички вполне реальна, а вот стоит ли с ней считаться или понадеяться на авось — каждый должен решать сам.

Свои следы Лис хранит сразу в двух местах: \Documents-n-Settings\user-name \ApplicationData\Mozilla\Firefox\Profiles\4uszwife.default помимо кучи пользовательских схем, настроек и расширений дает приют файлам: cookies.txt и history.dat, о назначении которых можно догадаться и без комментариев. Кэш целиком сосредоточен в папке \Documents-n-Settings\user-name\LocalSettings\ApplicationData\Mozilla\Firefox\Profiles\4uszwife.default\Cache и, как и все остальные браузеры, не всегда корректно очищается штатными средствами.

К тому же, для Лиса существует огромное количество расширений, многие из которых запоминают некоторую информацию в своих собственных местах (например, историю поисковых запросов, адреса наиболее часто посещаемых страниц и т. д.).

Так что несмотря на привлекательный антураж и агрессивное продвижение на рынок под флагом открытой программы (но как же она может быть открытой, если логотип и сопутствующее ему окружение является зарегистрированной торговой маркой, вызывавшей раскол в среде разработчиков и в состав дистрибутива Debian уже входит совсем другой Лис, не такой, каким мы его знаем), Лис не является безопасной программой, но этот недостаток с лихвой компенсируется обилием плагинов, расшивающих функциональность Лиса до совершенно недостижимых для IE границ. Пока отдел маркетоидов и дизайнеров покурит хорошей травы и выдумает феничку "реально необходимую каждому пользователю", в Лисе все необходимое реализуется сразу, как только в этом возникает потребность или кого-то озаряет свежая идея.

Тем не менее, использовать Лиса для просмотра "не детского" содержимого мыщъх никому бы не рекомендовал.

{{safe-serfing_Image_3.jpg}}

**Рисунок 4 FireFox – самый сексуальный браузер**

==== HeatSeek ====

В отличии от трех предыдущих, HeatSeek — это браузер изначально ориентированный на просмотр adult-контента и потому обладающий рядом несомненных преимуществ. Во-первых, это мощная система шифрования, кодирующая всю информацию, записываемую на жесткий диск, благодаря которой достигается полная приватность и конфиденциальность. Даже если жесткий диск попадет в руки спецслужб без утюга и паяльника, расшифровать его содержимое ни за что не удастся, а нам не придется каждый раз очищать кэш. Шифруется все: содержимое самих страниц, графические изображения, история, куки и даже закладки – ну разве не прелесть?! (однако, следует помнить, что //**информация, физически проходящая через **////**компьютер провайдера, равно как и маршртуизатор локальной сети, передается в незашифрованном виде и если она кэшируется, а обычно она кэшируется, то может быть использована для компромата**//, чтобы этого не произошло, необходимо использовать httpsproxy сервера или даже более продвинутые защитные механизмы, о которых мы поговорим в другой раз).

Во-вторых, поддержка клавиши "аварийной" маскировки "чем это вы тут занимаетесь?!" вкупе с подавлением всех всплывающих окон и прочей гадости, позволяет наслаждаться порнографическими страницами без риска быть пойманным и схваченным за хвост, даже если за спиной то и дело шастают всякие любопытствующие. Попутно, HeatSeek позволяет просматривать видео-файлы, защищенные DMR (DigitalManagementRight – Механизм Контроля Авторских Прав), сохраняя их на диске даже тогда, когда они этому всячески сопротивляются и во всех остальных браузерах не сохраняются. В последующих версиях обещана поддержка просмотра DVD с возможностью создания собственной коллекции закладок (естественно, зашифрованных) для мгновенного перехода от одной сцены к другой.

В-третьих, имеется защита от всяких зловредных шпионских программ, стремящихся выведать о пользователе хоть какую-то информацию или подкинуть ему вредоносную троянскую лошадь.

Самое главное, что все это удовольствие не стоит ни копейки и может быть скачено с http://www.heatseek.com/ совершенно бесплатно, причем без всякого ad-ware или другого замаскированного средства оплаты.

Но то были плюсы. Теперь поговорим о минусах. В отличии от остальных, HeatSeek не является самостоятельным браузером, а основан на движке от IE, активно использующим файл mshtml.dll. Отсюда следуют две новости: плохая и очень плохая: во-первых, мы должны иметь IE, установленный на своем компьютере, а, во-вторых, все атаки, которым подвержен IE, автоматически распространяются и на HeatSeek, что делает его использование совсем небезопасным! Поэтому, обновляться (скачивать заплатки с MicrosoftUpdate) следует как можно чаще.

Впрочем, для Лиса существует специальное расширение, предоставляющее туже самую функциональность, что и HeatSeek: https://addons.mozilla.org/firefox/1306, но никаким образом не связанное ни с IE, ни с его дырами. (Впрочем, как уже говорилось, у Лиса и своих дыр предостаточно, спасает лишь его невысокая распространенность).

Подробнее о HeatSeek'е можно прочитать на страницах Википедии: http://en.wikipedia.org/wiki/Heatseek.

{{safe-serfing_Image_4.png}}

**Рисунок 5 главная страница сайта http://www.heatseek.com/**

==== тестовые браузеры ====

Подавляющее большинство пользователей настолько привыкли к графическим браузерам, что даже и представить себе не могут, что помимо них существуют текстовые! И не только существуют, но еще и развиваются! Казалось бы, в наш век, когда 17" мониторы стоят на каждом столе, а сайты без графики можно пересчитать по пальцем одной руки, текстовые браузеры должны были исчезнуть еще в середине девяностых годов прошлого века. Какой прок от страничек, если в них нет картинок?!

Э… ну… мыщъх в растерянности теребит усы, не зная что ответить на столь идиотский вопрос. Книжки с картинками он похоронил еще в ясельной группе и с той поры больше интересовался буковками. Основную смысловую нагрузку несет именно текст. Графика (особенно в стиле современно wёb-дизайна) только затрудняет доступ к информации, рассеивает внимание и пожирает львиную долю трафика (причем совершенно зря). Конечно, существуют сайты (например, те же фото-галереи) обязанные своим рождением именно графике, но! во-первых, их не так уже и много, а, во-вторых, текстовые браузеры позволяют сохранять любую картинку на диск для ее последующего просмотра в Irfan Viewer'е или любой другой программе. Неудобно?! Скорее, просто непривычно. Человек, как известно, существо неприхотливое и ко всему привыкающее (со временем). Ведь вопрос — какие возможности нам предоставляют текстовые браузеры, чтобы мучаться-переучиваться?!

Во-первых, это ошеломляющий уровень безопасности. Будучи очень простыми программами, текстовые бразуеры, по своей природе, поддерживают минимум возможностей HTML'а и не содержат фатальных ошибок, позволяя бродить по "грязным" закоулкам, без риска подцепить сетевую заразу.

Во-вторых, скорость восприятия информации (по сравнению с графическими браузерами) повышается порядка на два. На экране виден только текст и больше ничего. Реклама вместе с сопутствующим ей информационным мусором уходит на дно. Изначально рассчитанные на клавиатуру, текстовые браузеры демонстрируют непревзойденную скорость wёb-серфинга (как ни крути, на мыши все же меньше кнопок, чем на клавиатуре).

И, в третьих, как показывает практика, при работе в текстовом режиме _намного_ меньше устают глаза и можно безболезненно сидеть за монитором дни и ночи напролет, без всякого ущерба для своего зрения.

Текстовых браузеров существует огромное множество (и время от времени появляются все новые), но хороших из них всего два: классический **lynx** (рысь), выполненный в лучших традициях терминалов 60х и редактора vi и "пижонский" **links** (переводить, я думаю не надо?) c псевдографическими окошками и меню, заставляющих вспомнить свою молодость, проведенную вместе с MS-DOS.

Оба они распространяются в исходных тестах и совершенно бесплатны. Несмотря на то, что основным ареалом их обитания являются UNIX-подобные системы, в сети можно найти множество портов и под Windows.

Главная страница Рыся расположена по адресу: http://lynx.isc.org, а если она вдруг окажется недоступна, на этот случай предусмотрено зеркало: http://lynx.browser.org. Кроме исходных текстов, документации, свежих fix'ов там же находятся ссылки на Windows-порты.

Кэш страниц, история переходов со страницы на страницу и куки по умолчанию хранятся в том же каталоге, где расположен и сам Рысь (кстати, занимающий чуть больше двух мегабайт). Он не привязан к своему местоположении, ему безразличен реестр, поэтому для достижения максимальной секретности, его рекомендуется перебросить на FLASH-брелок, чтобы не оставлять никаких следов на винте.

{{safe-serfing_Image_5.png}}

**Рисунок 6 внешний вид текстового браузера lynx — для быстрого перехода по ссылке достаточно ввести ее номер, расположенный слева или просто подогнать курсор**

Браузер links (на самом деле elinks) в последних версиях FreeBSD устанавливается основным текстовым браузером по умолчанию (до этого там был lynx). Он поддерживает JavaScript'ы и многие другие "усовершенствования" HTML'а, игнорируемые Рысем, чем и объясняется рост его популярности (впрочем, мыщъх этих настроений _не_ разделяет и остается верен своему древнему Рысю, собранному собственными лапами и заточенному под собственный вкус, но это уже личные предпочтения).

Исходные тексты links'а лежат на http://artax.karlin.mff.cuni.cz/~mikulas/links, а на http://links.twibright.com организован целый посвященный ему портал с кучей полезных советов, документацией, переведенной на различные языки (впрочем, русской среди них до сих пор нет), ну и, конечно, Windows-порты (куда же без них!).

В зависимости от своих настроек, links сохраняет кэш, куки и историю либо в текущей директории (именно текущей, а не своей собственной), либо в домашнем каталоге пользователя в папке .elinks.

{{safe-serfing_Image_6.png}}

**Рисунок 7 "пижонский" links, запущенный под управлением KNOPPIX**

===== с презервативом или без (вместо заключения) =====

Помимо упомянутых, существуют и другие браузеры, подробнее о которых можно прочитать в специальной статье на Википедии: http://en.wikipedia.org/wiki/List_of_web_browsers (на английском языке).

Разумеется, не все бразуеры одинаково безопасны, точнее говоря, большинство из них катастрофически небезопасны (как, например, IE). Текстовые браузеры — наиболее защищенные. Они же — наименее востребованные.

Ирония судьбы? Вовсе нет! Безопасность и свобода антагонистичны по своей природе. То есть, являются борьбой двух противоположностей. Философия — философией, а в реальной жизни приходится выбирать либо комфорт, либо защищенность. Компромиссных браузеров не существует, как не существует компромиссных презервативов. Массовая истерия по поводу мифического СПИДа не имеет под собой никаких оснований. Вероятность заражения не так уж и велика, а медицина сейчас лечит все, в том числе и зараженные компьютеры. Главное — не пренебрегать резервированием и не переоценивать значимость собственной репутации. Скрывать свои естественные наклонности, прятаться от жены и друзей, боясь прослыть извращенцем… нет, это не для мыщъхей. Но… каждый выбирает свой жизненный путь сам. Задача этой статьи вовсе не в том, чтобы кого-то куда-то наставить, а показать какие существуют технические средства и как ими пользоваться, чтобы продолжить свое пребывание в "скорлупе" из которой со временем может быть кто-нибудь да вылупится.

===== >>> врезка что еще можно предпринять для обеспечения собственной безопасности =====

Большинство персональных брандмауэров по умолчанию ведут логи, чтобы в случае атаки было можно разобраться кто нас поимел и куда. Естественно, перед посещением "сакраментальных" местечек сети, протоколирование лучше выключить. А при наличии статического IP нелишне позвонить провайдеру и попросить исключить себя из области кэширования (по умолчанию, провайдеры кэшируют информацию на своих серверах, экономя на входящем трафике, ведь клиент платит за скэшированные данные по полному прайсу), правда это может несколько замедлить скорость wёb-серфинга, но зато уменьшит количество оставляемых следов.


